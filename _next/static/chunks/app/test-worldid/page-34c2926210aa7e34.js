(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[119],{43995:(e,i,t)=>{Promise.resolve().then(t.bind(t,65661))},65661:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>s});var o=t(95155),r=t(12115),n=t(70674);function s(){let[e,i]=(0,r.useState)("Ready to test"),[s,a]=(0,r.useState)(null),[l,c]=(0,r.useState)(!1),d=async()=>{c(!0),i("Testing World ID integration..."),a(null);try{let e=(0,n.createWorldcoinMiniKit)(n.worldcoinConfig);i("Testing connection...");let t=await e.connect();a({step:"Connection",result:t}),i("Testing verification...");let o=await e.verify();a(e=>({...e,step:"Verification",result:o})),i("Testing contacts...");let r=await e.getVerifiedContacts();a(e=>({...e,step:"Contacts",result:r})),i("✅ All tests completed successfully!")}catch(e){i("❌ Test failed: ".concat(e instanceof Error?e.message:"Unknown error")),a({error:e instanceof Error?e.message:"Unknown error"})}finally{c(!1)}};return(0,o.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 p-8",children:(0,o.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,o.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"\uD83C\uDF0D World ID Integration Test"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Configuration"}),(0,o.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,o.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"App ID:"})," ",n.worldcoinConfig.appId]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Action:"})," ",n.worldcoinConfig.action]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Verification Level:"})," ",n.worldcoinConfig.verificationLevel]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Mock Mode:"})," ",n.worldcoinConfig.mockMode?"Yes":"No"]})]})})]}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Test Controls"}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsx)("button",{onClick:()=>{try{let{MiniKit:e}=t(37083),o=e.isInstalled();i("World App available: ".concat(o?"✅ Yes":"❌ No")),a({worldAppAvailable:o,config:n.worldcoinConfig,userAgent:navigator.userAgent})}catch(e){i("❌ Error checking World App: ".concat(e instanceof Error?e.message:"Unknown error"))}},className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors",children:"Check World App Availability"}),(0,o.jsx)("button",{onClick:d,disabled:l,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white py-2 px-4 rounded-lg transition-colors",children:l?"Testing...":"Test Full Integration"})]})]})]}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Test Results"}),(0,o.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,o.jsxs)("div",{className:"text-sm",children:[(0,o.jsx)("div",{className:"font-medium text-gray-700 mb-2",children:"Status:"}),(0,o.jsx)("div",{className:"text-gray-900",children:e})]})}),s&&(0,o.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,o.jsxs)("div",{className:"text-sm",children:[(0,o.jsx)("div",{className:"font-medium text-gray-700 mb-2",children:"Details:"}),(0,o.jsx)("pre",{className:"text-xs text-gray-900 overflow-auto",children:JSON.stringify(s,null,2)})]})})]}),(0,o.jsxs)("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg",children:[(0,o.jsx)("h3",{className:"font-semibold text-blue-800 mb-2",children:"How to Use Real World ID:"}),(0,o.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1",children:[(0,o.jsx)("li",{children:"1. Install World App on your device"}),(0,o.jsx)("li",{children:"2. Complete World ID verification in World App"}),(0,o.jsx)("li",{children:"3. Access your HelloWorld app through World App"}),(0,o.jsx)("li",{children:"4. Real World ID integration will be active"})]})]}),(0,o.jsxs)("div",{className:"mt-4 p-4 bg-yellow-50 rounded-lg",children:[(0,o.jsx)("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Current Status:"}),(0,o.jsxs)("ul",{className:"text-sm text-yellow-700 space-y-1",children:[(0,o.jsx)("li",{children:"✅ Real World ID authentication configured"}),(0,o.jsx)("li",{children:"✅ Real verification process ready"}),(0,o.jsx)("li",{children:"✅ Enhanced mock data for testing"}),(0,o.jsx)("li",{children:"⚠️ Contacts API: Using mock data (until API available)"}),(0,o.jsx)("li",{children:"⚠️ Messaging API: Using mock data (until API available)"})]})]})]})})})}},70674:(e,i,t)=>{"use strict";t.d(i,{createWorldcoinMiniKit:()=>n,worldcoinConfig:()=>s});var o=t(71428);class r{safeIsMiniKitInstalled(){try{return o.a$.isInstalled()}catch(e){return!1}}async connect(){if(this.config.mockMode)return console.log("Worldcoin: Using mock connection"),new Promise(e=>{setTimeout(()=>{this.user={id:"mock_user_".concat(Date.now()),verified:!0,signal:"mock_signal_".concat(Math.random().toString(36).slice(2,11))},e(this.user)},1e3)});if(!this.safeIsMiniKitInstalled())return console.log("World App not detected, using development mode with enhanced mock data"),new Promise(e=>{setTimeout(()=>{this.user={id:"dev_worldid_".concat(Date.now()),verified:!0,signal:"dev_signal_".concat(Math.random().toString(36).slice(2,11)),verificationLevel:this.config.verificationLevel||o.iQ.Orb,nullifierHash:"dev_nullifier_".concat(Math.random().toString(36).slice(2,16)),walletAddress:"0x742d35Cc6C4C7b8c5c4c4c4c4c4c4c4c4c4c4c4c",profile:{username:"dev.worldid.user",avatar:"\uD83C\uDF0D"}},e(this.user)},1e3)});try{return console.log("Connecting with real World ID MiniKit..."),this.user={id:"worldid_".concat(Date.now(),"_").concat(Math.random().toString(36).slice(2,8)),verified:!1,signal:"signal_".concat(Math.random().toString(36).slice(2,11)),verificationLevel:this.config.verificationLevel||o.iQ.Orb,walletAddress:"0x...",profile:{username:"World ID User",avatar:"\uD83C\uDF0D"}},console.log("World ID connection successful:",this.user),this.user}catch(e){throw console.error("World ID connection error:",e),Error("Failed to connect to World ID: ".concat(e instanceof Error?e.message:"Unknown error"))}}async verify(){if(!this.user)throw Error("User must be connected before verification");if(this.config.mockMode)return console.log("Worldcoin: using mock verification"),new Promise(e=>{setTimeout(()=>{this.user&&(this.user.verified=!0),e(!0)},500)});if(!this.safeIsMiniKitInstalled())return console.log("World App not detected, using development mode verification"),new Promise(e=>{setTimeout(()=>{this.user&&(this.user.verified=!0,this.user.nullifierHash="dev_nullifier_".concat(Math.random().toString(36).slice(2,16))),e(!0)},500)});try{console.log("Starting real World ID verification...");let e={action:this.config.action,signal:this.user.signal,verification_level:this.config.verificationLevel||o.iQ.Orb},i=o.a$.commands.verify(e);if(i&&"nullifier_hash"in i)return console.log("World ID verification successful:",i),this.user.verified=!0,this.user.nullifierHash=i.nullifier_hash,this.user.verificationLevel=i.verification_level,!0;return console.error("World ID verification failed:",i),!1}catch(e){throw console.error("World ID verification error:",e),Error("Verification failed: ".concat(e instanceof Error?e.message:"Unknown error"))}}async getVerifiedContacts(){var e;if(!(null===(e=this.user)||void 0===e?void 0:e.verified))throw Error("User must be verified to access contacts");if(this.config.mockMode)return await this.getMockVerifiedContacts();if(!this.safeIsMiniKitInstalled())return console.log("World App not detected, using development mode contacts"),await this.getMockVerifiedContacts();try{return console.log("Fetching real World ID verified contacts..."),console.log("Real World ID contacts API not yet available, using enhanced mock contacts"),await this.getMockVerifiedContacts()}catch(e){return console.error("Error fetching real World ID contacts:",e),console.log("Falling back to mock contacts due to error"),await this.getMockVerifiedContacts()}}async getMockVerifiedContacts(){return new Promise(e=>{setTimeout(()=>{e([{id:"worldid_alice_orb_verified",walletAddress:"0x742d35Cc6C4C7b8c5c4c4c4c4c4c4c4c4c4c4c4c",username:"alice.worldid",avatar:"\uD83D\uDC69‍\uD83D\uDCBB",verified:!0,lastSeen:new Date(Date.now()-18e5),mutualFriends:5},{id:"worldid_bob_orb_verified",walletAddress:"0x8f3e2a1b9c7d6e5f4a3b2c1d0e9f8a7b6c5d4e3f",username:"bob.worldid",avatar:"\uD83D\uDC68‍\uD83D\uDE80",verified:!0,lastSeen:new Date(Date.now()-72e5),mutualFriends:12},{id:"worldid_charlie_orb_verified",walletAddress:"0x9a4b5c6d7e8f0a1b2c3d4e5f6a7b8c9d0e1f2a3b",username:"charlie.worldid",avatar:"\uD83E\uDDD1‍\uD83C\uDFA8",verified:!0,lastSeen:new Date(Date.now()-864e5),mutualFriends:3},{id:"worldid_diana_orb_verified",walletAddress:"0x1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c",username:"diana.worldid",avatar:"\uD83D\uDC69‍\uD83D\uDD2C",verified:!0,lastSeen:new Date(Date.now()-9e5),mutualFriends:8},{id:"worldid_eve_orb_verified",walletAddress:"0x2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1d",username:"eve.worldid",avatar:"\uD83D\uDC69‍\uD83C\uDF93",verified:!0,lastSeen:new Date(Date.now()-216e5),mutualFriends:1},{id:"worldid_frank_orb_verified",walletAddress:"0x3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1d2e",username:"frank.worldid",avatar:"\uD83D\uDC68‍\uD83D\uDCBC",verified:!0,lastSeen:new Date(Date.now()-27e5),mutualFriends:15},{id:"worldid_grace_orb_verified",walletAddress:"0x4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1d2e3f",username:"grace.worldid",avatar:"\uD83D\uDC69‍\uD83C\uDFA4",verified:!0,lastSeen:new Date(Date.now()-108e5),mutualFriends:7}])},800)})}async sendHelloToContact(e){var i;if(!(null===(i=this.user)||void 0===i?void 0:i.verified))throw Error("User must be verified to send hellos to contacts");if(this.config.mockMode)return await this.mockSendHelloToContact(e);if(!this.safeIsMiniKitInstalled())return console.log("World App not detected, using development mode messaging"),await this.mockSendHelloToContact(e);try{return console.log("Sending real World ID hello to contact: ".concat(e)),console.log("Real World ID messaging API not yet available, simulating send"),await this.mockSendHelloToContact(e)}catch(i){return console.error("Error sending hello via World ID:",i),console.log("Falling back to mock sending due to error"),await this.mockSendHelloToContact(e)}}async mockSendHelloToContact(e){return new Promise(i=>{setTimeout(()=>{console.log("Mock: Hello sent to contact ".concat(e)),i(!0)},500)})}getUser(){return this.user}isConnected(){return null!==this.user}disconnect(){this.user=null}constructor(e){this.user=null,this.config=e,this.config.mockMode&&console.log("Worldcoin: mock mode enabled via config")}}let n=e=>new r(e),s={appId:"app_0fb8c97526ec00c2b6d6fa39f5707df8",action:"say-hello",verificationLevel:o.iQ.Orb,mockMode:!1}}},e=>{var i=i=>e(e.s=i);e.O(0,[428,83,441,684,358],()=>i(43995)),_N_E=e.O()}]);