(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{674:(e,t,s)=>{"use strict";s.d(t,{createWorldcoinMiniKit:()=>i,worldcoinConfig:()=>n});var l=s(7264);class a{safeIsMiniKitInstalled(){try{return l.a$.isInstalled()}catch(e){return!1}}async connect(){return!this.config.mockMode&&this.safeIsMiniKitInstalled()?(console.log("Connecting with real MiniKit..."),this.user={id:"testnet_user_".concat(Date.now()),verified:!1,signal:"testnet_signal_".concat(Math.random().toString(36).slice(2,11)),verificationLevel:this.config.verificationLevel||l.iQ.Orb},this.user):(console.log("Worldcoin: MiniKit not available, using mock connection"),new Promise(e=>{setTimeout(()=>{this.user={id:"mock_user_".concat(Date.now()),verified:!0,signal:"mock_signal_".concat(Math.random().toString(36).slice(2,11))},e(this.user)},1e3)}))}async verify(){if(!this.user)throw Error("User must be connected before verification");if(!(!this.config.mockMode&&this.safeIsMiniKitInstalled()))return console.log("Worldcoin: using mock verification"),new Promise(e=>{setTimeout(()=>{this.user&&(this.user.verified=!0),e(!0)},500)});try{console.log("Starting Worldcoin verification...");let e={action:this.config.action,signal:this.user.signal,verification_level:this.config.verificationLevel||l.iQ.Orb},t=l.a$.commands.verify(e);if(t&&"nullifier_hash"in t)return console.log("Verification successful:",t),this.user.verified=!0,this.user.nullifierHash=t.nullifier_hash,this.user.verificationLevel=t.verification_level,!0;return console.error("Verification failed:",t),!1}catch(e){return console.error("Verification error:",e),!1}}async getVerifiedContacts(){var e;if(!(null===(e=this.user)||void 0===e?void 0:e.verified))throw Error("User must be verified to access contacts");if(!(!this.config.mockMode&&this.safeIsMiniKitInstalled()))return await this.getMockVerifiedContacts();try{return console.log("Fetching verified contacts from Worldcoin..."),await this.getMockVerifiedContacts()}catch(e){return console.error("Error fetching contacts:",e),[]}}async getMockVerifiedContacts(){return new Promise(e=>{setTimeout(()=>{e([{id:"contact_1",walletAddress:"0x1234...5678",username:"alice_verified",avatar:"\uD83D\uDC69‍\uD83D\uDCBB",verified:!0,lastSeen:new Date(Date.now()-18e5),mutualFriends:5},{id:"contact_2",walletAddress:"0x2345...6789",username:"bob_worldid",avatar:"\uD83D\uDC68‍\uD83D\uDE80",verified:!0,lastSeen:new Date(Date.now()-72e5),mutualFriends:12},{id:"contact_3",walletAddress:"0x3456...7890",username:"charlie_human",avatar:"\uD83E\uDDD1‍\uD83C\uDFA8",verified:!0,lastSeen:new Date(Date.now()-864e5),mutualFriends:3},{id:"contact_4",walletAddress:"0x4567...8901",username:"diana_orb",avatar:"\uD83D\uDC69‍\uD83D\uDD2C",verified:!0,lastSeen:new Date(Date.now()-9e5),mutualFriends:8},{id:"contact_5",walletAddress:"0x5678...9012",username:"eve_verified",avatar:"\uD83D\uDC69‍\uD83C\uDF93",verified:!0,lastSeen:new Date(Date.now()-216e5),mutualFriends:1}])},800)})}async sendHelloToContact(e){var t;if(!(null===(t=this.user)||void 0===t?void 0:t.verified))throw Error("User must be verified to send hellos to contacts");if(!(!this.config.mockMode&&this.safeIsMiniKitInstalled()))return await this.mockSendHelloToContact(e);try{return console.log("Sending hello to contact: ".concat(e)),await this.mockSendHelloToContact(e)}catch(e){return console.error("Error sending hello to contact:",e),!1}}async mockSendHelloToContact(e){return new Promise(t=>{setTimeout(()=>{console.log("Mock: Hello sent to contact ".concat(e)),t(!0)},500)})}getUser(){return this.user}isConnected(){return null!==this.user}disconnect(){this.user=null}constructor(e){this.user=null,this.config=e,this.config.mockMode&&console.log("Worldcoin: mock mode enabled via config")}}let i=e=>new a(e),n={appId:"app_0fb8c97526ec00c2b6d6fa39f5707df8",action:"say-hello",verificationLevel:l.iQ.Orb,mockMode:["1","true","yes"].includes("1")}},926:(e,t,s)=>{Promise.resolve().then(s.bind(s,6417))},6417:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var l=s(5155),a=s(2115),i=s(674);function n(e){var t;let{onUserVerified:s}=e,[n,r]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!1),[d,m]=(0,a.useState)(null),u=(0,a.useRef)(null);null!==(t=u.current)&&void 0!==t||(u.current=(0,i.createWorldcoinMiniKit)(i.worldcoinConfig));let x=u.current,h=async()=>{r(!0),m(null);try{console.log("Starting World ID connection...");let e=await x.connect();console.log("Connected to World ID:",e),console.log("Starting World ID verification...");let t=await x.verify();console.log("Verification result:",t),t?(c(!0),e.nullifierHash&&console.log("Verification successful with nullifier:",e.nullifierHash),console.log("User verification successful"),console.log("World ID Details:",{id:e.id,nullifierHash:e.nullifierHash,verificationLevel:e.verificationLevel,signal:e.signal}),s(e)):m("World ID verification failed. Please ensure you have completed World ID verification and try again.")}catch(e){console.error("Worldcoin connection error:",e),m("Failed to connect with World ID. Please check the console for details and try again.")}finally{r(!1)}};return o?null:(0,l.jsx)("div",{className:"w-full max-w-md mx-auto",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,l.jsx)("span",{className:"text-2xl",children:"\uD83C\uDF0D"})}),(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Sign in with World ID"}),(0,l.jsx)("p",{className:"text-gray-600 text-sm",children:"Verify you're a unique human to continue"})]}),(0,l.jsx)("button",{onClick:h,disabled:n,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center",children:n?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Connecting..."]}):(0,l.jsx)(l.Fragment,{children:"\uD83C\uDF0D Sign in with World ID"})}),d&&(0,l.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,l.jsx)("p",{className:"text-red-600 text-sm",children:d})})]})})}function r(e){var t;let{user:s}=e;return(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-white text-xl",children:"\uD83C\uDF0D"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"World ID Profile"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Verified Human Identity"})]})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"text-lg",children:(e=>{switch(e){case"orb":return"\uD83D\uDD2E";case"device":return"\uD83D\uDCF1";default:return"✅"}})(s.verificationLevel)}),(0,l.jsx)("span",{className:"text-sm font-medium text-green-800",children:(e=>{switch(e){case"orb":return"Orb Verification";case"device":return"Device Verification";default:return"Verified Human"}})(s.verificationLevel)})]}),(0,l.jsx)("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded-full",children:"VERIFIED"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,l.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,l.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"World ID"}),(0,l.jsx)("div",{className:"text-sm font-mono text-gray-900 break-all",children:s.id})]}),s.nullifierHash&&(0,l.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,l.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Nullifier Hash"}),(0,l.jsx)("div",{className:"text-sm font-mono text-gray-900",children:(t=s.nullifierHash)?"".concat(t.substring(0,8),"...").concat(t.substring(t.length-8)):"Not available"})]}),(0,l.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,l.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Signal"}),(0,l.jsx)("div",{className:"text-sm font-mono text-gray-900 break-all",children:s.signal})]})]}),(0,l.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:(0,l.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,l.jsx)("span",{className:"text-blue-600 text-sm",children:"ℹ️"}),(0,l.jsxs)("div",{className:"text-blue-800 text-xs",children:[(0,l.jsx)("p",{className:"font-medium mb-1",children:"Your World ID enables:"}),(0,l.jsxs)("ul",{className:"space-y-1 text-blue-700",children:[(0,l.jsx)("li",{children:"• Access to verified human-only features"}),(0,l.jsx)("li",{children:"• Connect with other verified humans"}),(0,l.jsx)("li",{children:"• Send secure hellos to World ID contacts"}),(0,l.jsx)("li",{children:"• Privacy-preserving identity verification"})]})]})]})})]})]})}let o=[{code:"JP",name:"Japan",city:"Tokyo",flag:"\uD83C\uDDEF\uD83C\uDDF5"},{code:"US",name:"United States",city:"New York",flag:"\uD83C\uDDFA\uD83C\uDDF8"},{code:"GB",name:"United Kingdom",city:"London",flag:"\uD83C\uDDEC\uD83C\uDDE7"},{code:"DE",name:"Germany",city:"Berlin",flag:"\uD83C\uDDE9\uD83C\uDDEA"},{code:"FR",name:"France",city:"Paris",flag:"\uD83C\uDDEB\uD83C\uDDF7"},{code:"CA",name:"Canada",city:"Toronto",flag:"\uD83C\uDDE8\uD83C\uDDE6"},{code:"AU",name:"Australia",city:"Sydney",flag:"\uD83C\uDDE6\uD83C\uDDFA"},{code:"BR",name:"Brazil",city:"S\xe3o Paulo",flag:"\uD83C\uDDE7\uD83C\uDDF7"},{code:"IN",name:"India",city:"Mumbai",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"KR",name:"South Korea",city:"Seoul",flag:"\uD83C\uDDF0\uD83C\uDDF7"}];function c(e){let{user:t,onHelloSent:s}=e,[i,n]=(0,a.useState)(!1),[r,c]=(0,a.useState)(null),d=()=>o[Math.floor(Math.random()*o.length)],m=async()=>{n(!0);try{let e=d();"hello_".concat(Date.now(),"_").concat(Math.random().toString(36).slice(2,11)),await new Promise(e=>setTimeout(e,1e3)),c("Hello sent to someone in ".concat(e.flag," ").concat(e.city)),s(),setTimeout(()=>{c(null)},3e3)}catch(e){console.error("Error sending hello:",e),c("Failed to send hello. Please try again."),setTimeout(()=>{c(null)},3e3)}finally{n(!1)}};return(0,l.jsxs)("div",{className:"w-full max-w-md mx-auto text-center",children:[(0,l.jsx)("button",{onClick:m,disabled:i,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 disabled:from-blue-400 disabled:to-purple-500 text-white font-bold py-4 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 disabled:transform-none shadow-lg hover:shadow-xl",children:i?(0,l.jsxs)("div",{className:"flex items-center justify-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Sending Hello..."]}):(0,l.jsxs)("div",{className:"flex items-center justify-center text-lg",children:[(0,l.jsx)("span",{className:"mr-2",children:"\uD83D\uDC4B"}),"Say Hello"]})}),r&&(0,l.jsx)("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,l.jsx)("p",{className:"text-green-700 text-sm font-medium",children:r})})]})}let d={JP:"\uD83C\uDDEF\uD83C\uDDF5",US:"\uD83C\uDDFA\uD83C\uDDF8",GB:"\uD83C\uDDEC\uD83C\uDDE7",DE:"\uD83C\uDDE9\uD83C\uDDEA",FR:"\uD83C\uDDEB\uD83C\uDDF7",CA:"\uD83C\uDDE8\uD83C\uDDE6",AU:"\uD83C\uDDE6\uD83C\uDDFA",BR:"\uD83C\uDDE7\uD83C\uDDF7",IN:"\uD83C\uDDEE\uD83C\uDDF3",KR:"\uD83C\uDDF0\uD83C\uDDF7"},m=[{id:"1",userId:"user1",timestamp:new Date(Date.now()-3e5),country:"JP",region:"Tokyo",helloId:"hello_123",targetType:"global"},{id:"2",userId:"user2",timestamp:new Date(Date.now()-9e5),country:"US",region:"New York",helloId:"hello_456",targetType:"global"},{id:"3",userId:"user3",timestamp:new Date(Date.now()-18e5),country:"GB",region:"London",helloId:"hello_789",targetType:"global"},{id:"4",userId:"user4",timestamp:new Date(Date.now()-72e5),country:"DE",region:"Berlin",helloId:"hello_101",targetType:"global"},{id:"5",userId:"user5",timestamp:new Date(Date.now()-144e5),country:"FR",region:"Paris",helloId:"hello_202",targetType:"global"}];function u(e){let{refreshTrigger:t}=e,[s,i]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[o,c]=(0,a.useState)(null),u=async()=>{try{r(!0),c(null),await new Promise(e=>setTimeout(e,500)),i(m)}catch(e){c("Failed to load hello history"),console.error("Error fetching hellos:",e)}finally{r(!1)}};(0,a.useEffect)(()=>{u()},[t]);let x=e=>{let t=new Date().getTime()-e.getTime(),s=Math.floor(t/6e4),l=Math.floor(t/36e5),a=Math.floor(t/864e5);return s<1?"Just now":s<60?"".concat(s,"m ago"):l<24?"".concat(l,"h ago"):a<7?"".concat(a,"d ago"):e.toLocaleDateString()};return n?(0,l.jsx)("div",{className:"w-full max-w-md mx-auto",children:(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),(0,l.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading history..."})]})})}):o?(0,l.jsx)("div",{className:"w-full max-w-md mx-auto",children:(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:(0,l.jsxs)("div",{className:"text-center py-4",children:[(0,l.jsx)("p",{className:"text-red-600 text-sm",children:o}),(0,l.jsx)("button",{onClick:u,className:"mt-2 text-blue-600 hover:text-blue-700 text-sm underline",children:"Try again"})]})})}):(0,l.jsx)("div",{className:"w-full max-w-md mx-auto",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,l.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Hello History"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Recent hellos from around the world"})]}),(0,l.jsx)("div",{className:"max-h-64 overflow-y-auto",children:0===s.length?(0,l.jsxs)("div",{className:"p-6 text-center",children:[(0,l.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDC4B"}),(0,l.jsx)("p",{className:"text-gray-500 text-sm",children:"No hellos yet. Be the first to say hello!"})]}):(0,l.jsx)("div",{className:"divide-y divide-gray-100",children:s.map(e=>{var t;return(0,l.jsx)("div",{className:"px-4 py-3 hover:bg-gray-50 transition-colors",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("span",{className:"text-lg",children:"contact"===e.targetType?"\uD83D\uDC64":e.country&&d[e.country]?d[e.country]:"\uD83C\uDF0D"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"contact"===e.targetType?"Hello to ".concat(e.targetContactUsername||"verified contact"):e.region||"Unknown location"}),(0,l.jsxs)("p",{className:"text-xs text-gray-500",children:[x(e.timestamp),"contact"===e.targetType&&(0,l.jsx)("span",{className:"ml-1 text-blue-600",children:"• Direct message"})]})]})]}),(0,l.jsxs)("div",{className:"text-xs text-gray-400 font-mono",children:[null===(t=e.helloId)||void 0===t?void 0:t.substring(0,8),"..."]})]})},e.id)})})})]})})}function x(e){let{user:t,onContactHello:s}=e,[n,r]=(0,a.useState)([]),[o,c]=(0,a.useState)(!1),[d,m]=(0,a.useState)(null),[u,x]=(0,a.useState)(null),h=(0,i.createWorldcoinMiniKit)(i.worldcoinConfig),g=(0,a.useCallback)(async()=>{if(t.verified){c(!0),m(null);try{let e=await h.getVerifiedContacts();r(e)}catch(e){m("Failed to load verified contacts"),console.error("Error fetching contacts:",e)}finally{c(!1)}}},[t.verified,h]);(0,a.useEffect)(()=>{g()},[g]);let f=async e=>{x(e.id);try{await new Promise(e=>setTimeout(e,1e3)),console.log("Hello sent to contact: ".concat(e.username)),s(e)}catch(e){console.error("Error sending hello:",e)}finally{x(null)}},v=e=>{if(!e)return"Unknown";let t=new Date().getTime()-e.getTime(),s=Math.floor(t/6e4),l=Math.floor(t/36e5),a=Math.floor(t/864e5);return s<1?"Just now":s<60?"".concat(s,"m ago"):l<24?"".concat(l,"h ago"):"".concat(a,"d ago")};return t.verified?(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Verified Contacts"}),(0,l.jsx)("button",{onClick:g,disabled:o,className:"text-blue-600 hover:text-blue-700 text-sm disabled:opacity-50",children:o?(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}):"\uD83D\uDD04"})]}),d&&(0,l.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,l.jsx)("p",{className:"text-red-600 text-sm",children:d})}),o&&0===n.length?(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Loading verified contacts..."})]}):0===n.length?(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)("span",{className:"text-4xl mb-4 block",children:"\uD83D\uDC65"}),(0,l.jsx)("p",{className:"text-gray-600",children:"No verified contacts found"})]}):(0,l.jsx)("div",{className:"space-y-3",children:n.map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"text-2xl",children:e.avatar||"\uD83D\uDC64"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"font-medium text-gray-900",children:e.username||"Anonymous"}),e.verified&&(0,l.jsx)("span",{className:"text-green-500 text-sm",children:"✓"})]}),(0,l.jsxs)("div",{className:"text-xs text-gray-500",children:[v(e.lastSeen),e.mutualFriends&&e.mutualFriends>0&&(0,l.jsxs)("span",{className:"ml-2",children:["• ",e.mutualFriends," mutual"]})]})]})]}),(0,l.jsx)("button",{onClick:()=>f(e),disabled:u===e.id,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white text-sm px-3 py-1 rounded-full transition-colors duration-200 flex items-center space-x-1",children:u===e.id?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white"}),(0,l.jsx)("span",{children:"Sending..."})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{children:"\uD83D\uDC4B"}),(0,l.jsx)("span",{children:"Hello"})]})})]},e.id))}),(0,l.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:(0,l.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,l.jsx)("span",{className:"text-blue-600 text-sm",children:"ℹ️"}),(0,l.jsx)("p",{className:"text-blue-800 text-xs",children:"Only verified humans with World ID appear in your contact list. Send hellos to connect with verified users around the world."})]})})]}):(0,l.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("span",{className:"text-4xl mb-4 block",children:"\uD83D\uDD12"}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Verification Required"}),(0,l.jsx)("p",{className:"text-gray-600 text-sm",children:"Complete World ID verification to access your verified contacts"})]})})}function h(e){var t;let{contacts:s,onSendHello:i}=e,[n,r]=(0,a.useState)({show:!1,contact:null,message:"",type:"sending"}),[o,c]=(0,a.useState)(null),d=async e=>{c(e.id),r({show:!0,contact:e,message:"Sending hello to ".concat(e.username||"verified contact","..."),type:"sending"});try{await new Promise(e=>setTimeout(e,1500)),r({show:!0,contact:e,message:"\uD83D\uDC4B Hello sent to ".concat(e.username||"verified contact","!"),type:"success"}),i(e),setTimeout(()=>{r({show:!1,contact:null,message:"",type:"sending"})},3e3)}catch(t){r({show:!0,contact:e,message:"Failed to send hello to ".concat(e.username||"contact"),type:"error"}),setTimeout(()=>{r({show:!1,contact:null,message:"",type:"sending"})},3e3)}finally{c(null)}};return(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Send Yo-Style Hellos"}),(0,l.jsxs)("div",{className:"text-sm text-gray-500",children:[s.length," verified contacts"]})]}),(0,l.jsx)("div",{className:"space-y-3",children:s.map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg hover:from-blue-100 hover:to-purple-100 transition-all duration-200 border border-blue-100",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-xl",children:e.avatar||"\uD83D\uDC64"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"font-medium text-gray-900",children:e.username||"Anonymous"}),(0,l.jsx)("span",{className:"text-green-500 text-sm",children:"✓"})]}),(0,l.jsx)("div",{className:"text-xs text-gray-500",children:e.walletAddress}),(0,l.jsxs)("div",{className:"text-xs text-blue-600",children:[e.mutualFriends," mutual connections"]})]})]}),(0,l.jsx)("button",{onClick:()=>d(e),disabled:o===e.id,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 disabled:from-blue-300 disabled:to-purple-400 text-white px-6 py-2 rounded-full font-medium transition-all duration-200 transform hover:scale-105 disabled:transform-none shadow-lg hover:shadow-xl",children:o===e.id?(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,l.jsx)("span",{children:"Sending..."})]}):(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{children:"\uD83D\uDC4B"}),(0,l.jsx)("span",{children:"Send Hello"})]})})]},e.id))}),(0,l.jsx)("div",{className:"mt-4 p-3 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-blue-100",children:(0,l.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,l.jsx)("span",{className:"text-blue-600 text-sm",children:"\uD83D\uDCA1"}),(0,l.jsxs)("div",{className:"text-blue-800 text-xs",children:[(0,l.jsx)("p",{className:"font-medium mb-1",children:"Yo-Style Notifications:"}),(0,l.jsx)("p",{children:"Send instant hellos to verified World ID contacts. Each hello creates a notification that appears on their device, just like the original Yo app!"})]})]})})]}),n.show&&(0,l.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center pointer-events-none",children:[(0,l.jsx)("div",{className:"bg-black bg-opacity-50 w-full h-full absolute"}),(0,l.jsx)("div",{className:"relative bg-white rounded-2xl p-8 shadow-2xl max-w-sm mx-4 transform animate-bounce",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-6xl mb-4",children:(()=>{switch(n.type){case"sending":return"⏳";case"success":return"✅";case"error":return"❌";default:return"\uD83D\uDC4B"}})()}),(0,l.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:(null===(t=n.contact)||void 0===t?void 0:t.username)||"Verified Contact"}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:n.message}),n.contact&&(0,l.jsx)("div",{className:"text-sm text-gray-500",children:(0,l.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,l.jsx)("span",{children:n.contact.avatar||"\uD83D\uDC64"}),(0,l.jsx)("span",{children:"World ID Verified"})]})})]})})]})]})}function g(){let[e,t]=(0,a.useState)(null),[i,o]=(0,a.useState)(0),[d,m]=(0,a.useState)(!1),[g,f]=(0,a.useState)([]),v=async e=>{t(e),m(!0);try{let{createWorldcoinMiniKit:e,worldcoinConfig:t}=await Promise.resolve().then(s.bind(s,674)),l=e(t),a=await l.getVerifiedContacts();f(a)}catch(e){console.error("Failed to load contacts:",e)}setTimeout(()=>m(!1),3e3)},b=()=>{o(e=>e+1)};return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:(0,l.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"HelloWorld"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Connect with humans around the world \uD83C\uDF0D"})]}),(0,l.jsx)("div",{className:"max-w-md mx-auto space-y-6",children:e?(0,l.jsxs)("div",{className:"space-y-6",children:[d&&(0,l.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center mb-2",children:[(0,l.jsx)("span",{className:"text-2xl mr-2",children:"✅"}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-green-800",children:"You're a verified human!"})]}),(0,l.jsx)("p",{className:"text-green-600 text-sm",children:"Welcome to HelloWorld"})]}),(0,l.jsx)(r,{user:e}),(0,l.jsx)(h,{contacts:g,onSendHello:e=>{console.log("Yo-style hello sent to contact:",e),o(e=>e+1)}}),(0,l.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:(0,l.jsx)(c,{user:e,onHelloSent:b})}),(0,l.jsx)(x,{user:e,onContactHello:e=>{console.log("Hello sent to contact:",e),b()}}),(0,l.jsx)(u,{refreshTrigger:i}),(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)("button",{onClick:()=>{t(null),m(!1)},className:"text-sm text-gray-500 hover:text-gray-700 underline",children:"Sign out"})})]}):(0,l.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:(0,l.jsx)(n,{onUserVerified:v})})}),(0,l.jsx)("div",{className:"text-center mt-12",children:(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Built with Worldcoin MiniKit • Static Deployment"})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[264,441,684,358],()=>t(926)),_N_E=e.O()}]);